(this.webpackJsonpwork2gather=this.webpackJsonpwork2gather||[]).push([[0],{282:function(e,t,a){e.exports=a(475)},287:function(e,t,a){},475:function(e,t,a){"use strict";a.r(t);var l=a(0),r=a.n(l),n=a(19),i=a.n(n),o=(a(287),a(6)),c=a(216),s=a.n(c),u=a(506),m=a(517),d=a(534),g=a(532),p=a(237),b=a(533),h=a(524),f=a(526),E=a(525),v=a(512),y=a(513),j=a(509),O=a(511),k=a(540),w=a(4),x=a(523),S=a(111),C=a.n(S),D=a(110),N=a.n(D),T=a(538),A=a(522),B=a(520),F=a(521),M=a(519),R=(a(514),a(11)),z=a.n(R);a(296),a(167);z.a.initializeApp({apiKey:"AIzaSyD1GYAgBteBkLHKtmmXrvsqKFxoRr2O-R8",authDomain:"work2gather-e8973.firebaseapp.com",databaseURL:"https://work2gather-e8973.firebaseio.com",projectId:"work2gather-e8973",storageBucket:"work2gather-e8973.appspot.com",messagingSenderId:"609218763867",appId:"1:609218763867:web:b13aa86c4dba6b4793337e"});var I=z.a,G=(I.database().ref(),Object(u.a)({root:{width:"35%",marginLeft:"10%",overflow:"auto",marginTop:"50px",display:"inline-block"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},table:{tableLayout:"auto",width:"99.9%",marginTop:"0px",marginBottom:"10px"},marginless:{margin:0},tableCont:{width:"300"},progressFilled1:{size:"small",backgroundColor:"#14ECF5",border:"1px solid black"},progressFilled2:{size:"small",backgroundColor:"#14F58E",border:"1px solid black"},progressUnfilled:{size:"small",border:"1px solid black"},pos:{marginBottom:12},ourSpecialBlue:{backgroundColor:"#14ECF5",padding:"5px"},ourSpecialGreen:{backgroundColor:"#14F58E",padding:"5px"},weekDays:{size:"small",borderBottom:"1px solid black",paddingBottom:"0px",paddingTop:"10px",textAlign:"center"}}),a(17)),W=a(515),L=a(516),V=a(539),P=Object(u.a)((function(e){return{toggleContainer:{width:"250px"},togglebutton:{width:"100px"}}})),K=function(e){var t=e.showView,a=e.setShowView,l=P();return r.a.createElement(W.a,{container:!0,spacing:2},r.a.createElement(W.a,{item:!0,sm:12,md:6},r.a.createElement(V.a,{value:t,exclusive:!0,onChange:function(e,t){null!==t&&a(t)},"aria-label":"visualization",className:l.toggleContainer},r.a.createElement(L.a,{value:"BAR","aria-label":"centered",className:l.toggleButton},r.a.createElement("div",{className:l.toggleButton}," Bar ")),r.a.createElement(L.a,{value:"LINE","aria-label":"centered"},r.a.createElement("div",{className:l.toggleButton}," Line ")),r.a.createElement(L.a,{value:"AREA","aria-label":"centered",className:l.toggleButton},r.a.createElement("div",{className:l.toggleButton}," Area ")))))},U=Object(u.a)((function(e){return{form:{display:"flex",flexDirection:"column",margin:"auto",width:"fit-content",align:"right"},yaxis:{padding:"10px",textAlign:"center"}}}));function Q(e){var t=e.goal,a=e.buttonText,n=U(),i=r.a.useState(!1),c=Object(o.a)(i,2),s=c[0],u=c[1],d=Object(l.useState)([]),g=Object(o.a)(d,2),p=g[0],b=g[1],h=r.a.useState("BAR"),f=Object(o.a)(h,2),E=f[0],v=f[1],y=Object(l.useState)([]),j=Object(o.a)(y,2),O=j[0],k=j[1],w=Object(l.useState)([]),x=Object(o.a)(w,2),S=x[0],C=x[1],D=function(){u(!1)};return Object(l.useEffect)((function(){for(var e=[],a=Object.keys(t.progress),l=0;l<t.progress[a[0]].length;l++){var r={name:l.toString(),uv:t.progress[t.groupMembers.creator][l],pv:t.progress[t.groupMembers.invitee][l]};e.push(r)}b(e)}),[t]),Object(l.useEffect)((function(){var e=function(e){e.val()&&(k(e.val()[t.groupMembers.creator].name.split(" ")[0]),C(e.val()[t.groupMembers.invitee].name.split(" ")[0]))},a=I.database().ref("users");return a.on("value",e,(function(e){return alert(e)})),function(){a.off("value",e)}})),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(m.a,{size:"medium",variant:"contained",color:"primary",style:{width:"150px"},onClick:function(){u(!0)}},a||"See More")),r.a.createElement("div",null)),r.a.createElement(T.a,{fullWidth:!0,maxWidth:"md",open:s,onClose:D,"aria-labelledby":"max-width-dialog-title",style:{overflow:"scrollbar"}},r.a.createElement("div",null,r.a.createElement("div",{style:{float:"left"}},r.a.createElement(M.a,{id:"max-width-dialog-title"},t.title)),r.a.createElement("div",{style:{float:"right",margin:"10px"}},r.a.createElement(K,{showView:E,setShowView:v}))),r.a.createElement(B.a,null,r.a.createElement("div",null,r.a.createElement("div",{style:{float:"left"}},r.a.createElement(F.a,null,t.description,r.a.createElement("br",null),"Started: ",t.startDate,r.a.createElement("br",null),"Days Left: ",7*t.duration-function(){var e=new Date(t.startDate),a=(new Date).getTime()-e.getTime();return Math.floor(a/864e5)}(),r.a.createElement("br",null))),r.a.createElement("div",{style:{float:"right"}},"LINE"===E?r.a.createElement(G.i,{width:500,height:300,data:p,margin:{top:5,right:30,left:30,bottom:30},className:n.form},r.a.createElement(G.e,{strokeDasharray:"3 3"}),r.a.createElement(G.l,{dataKey:"name"},r.a.createElement(G.f,{value:"Days",offset:0,position:"bottom"})),r.a.createElement(G.m,{className:n.yaxis,label:{value:t.metric,angle:-90,position:"left"}}),r.a.createElement(G.k,null),r.a.createElement(G.g,{verticalAlign:"top",height:36}),r.a.createElement(G.h,{name:O,type:"monotone",dataKey:"uv",stroke:"#8884d8",activeDot:{r:8}}),r.a.createElement(G.h,{name:S,type:"monotone",dataKey:"pv",stroke:"#82ca9d"}),r.a.createElement(G.j,{y:t.minimum,label:"Goal",stroke:"green",strokeDasharray:"5 5"})):"BAR"===E?r.a.createElement(G.d,{width:500,height:300,data:p,margin:{top:5,right:30,left:30,bottom:30},className:n.form},r.a.createElement(G.e,{strokeDasharray:"3 3"}),r.a.createElement(G.l,{dataKey:"name"},r.a.createElement(G.f,{value:"Days",offset:0,position:"bottom"})),r.a.createElement(G.m,{className:n.yaxis,label:{value:t.metric,angle:-90,position:"left"}}),r.a.createElement(G.k,null),r.a.createElement(G.g,{verticalAlign:"top",height:36}),r.a.createElement(G.c,{name:O,dataKey:"uv",fill:"#8884d8"}),r.a.createElement(G.c,{name:S,dataKey:"pv",fill:"#82ca9d"}),r.a.createElement(G.j,{y:t.minimum,label:"Goal",stroke:"green",strokeDasharray:"5 5"})):r.a.createElement(G.b,{width:500,height:300,data:p,margin:{top:5,right:30,left:30,bottom:30},className:n.form},r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"colorUv",x1:"0",y1:"0",x2:"0",y2:"1"},r.a.createElement("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),r.a.createElement("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})),r.a.createElement("linearGradient",{id:"colorPv",x1:"0",y1:"0",x2:"0",y2:"1"},r.a.createElement("stop",{offset:"5%",stopColor:"#82ca9d",stopOpacity:.8}),r.a.createElement("stop",{offset:"95%",stopColor:"#82ca9d",stopOpacity:0}))),r.a.createElement(G.l,{dataKey:"name"},r.a.createElement(G.f,{value:"Days",offset:0,position:"bottom"})),r.a.createElement(G.m,{className:n.yaxis,label:{value:t.metric,angle:-90,position:"left"}}),r.a.createElement(G.e,{strokeDasharray:"3 3"}),r.a.createElement(G.k,null),r.a.createElement(G.g,{verticalAlign:"top",height:36}),r.a.createElement(G.a,{name:O,type:"monotone",dataKey:"uv",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorUv)"}),r.a.createElement(G.a,{name:S,type:"monotone",dataKey:"pv",stroke:"#82ca9d",fillOpacity:1,fill:"url(#colorPv)"}),r.a.createElement(G.j,{y:t.minimum,label:"Goal",stroke:"green",strokeDasharray:"5 5"}))))),r.a.createElement(A.a,null,r.a.createElement(m.a,{onClick:D,color:"primary"},"Close"))))}var H=I.database().ref(),Y=Object(u.a)({root:{margin:"auto",minWidth:"35%",boxShadow:"3px 3px 25px 2px rgba(0,0,0,0.5)"},title:{fontSize:14},table:{tableLayout:"auto",width:"99.9%",marginTop:"0px",marginBottom:"10px"},marginless:{margin:0},tableCont:{width:"300"},progressFilled1:{size:"small",backgroundColor:"#14ECF5",border:"1px solid black"},progressFilled2:{size:"small",backgroundColor:"#14F58E",border:"1px solid black"},progressUnfilled:{size:"small",border:"1px solid black"},pos:{marginBottom:12},ourSpecialBlue:{backgroundColor:"#14ECF5",padding:"5px"},ourSpecialGreen:{backgroundColor:"#14F58E",padding:"5px"},weekDays:{size:"small",borderBottom:"1px solid black",paddingBottom:"0px",paddingTop:"10px",textAlign:"center",width:"50px"},onDays:{size:"small",borderBottom:"1px solid black",paddingBottom:"0px",paddingTop:"10px",textAlign:"center",width:"50px",backgroundColor:"#14ECF5"},update:{display:"flex",justifyContent:"center",flexDirection:"column"},shape1:{backgroundColor:"#14ECF5",opacity:.5},shape2:{backgroundColor:"#14F58E",opacity:.5},shapeCircle:{borderRadius:"50%"},goalCircle:{backgroundColor:"white"},backCircle:{backgroundColor:"black"}}),J=function(e){var t=e.goal,a=e.user,n=Object(l.useState)(0),i=Object(o.a)(n,2),c=i[0],s=i[1],u=Object(l.useState)(!1),d=Object(o.a)(u,2),g=(d[0],d[1]),b=Object(l.useState)(r.a.createRef()),S=Object(o.a)(b,2),D=S[0],F=(S[1],Object(l.useState)(r.a.createRef())),M=Object(o.a)(F,2),R=M[0],z=(M[1],Object(l.useState)(0)),G=Object(o.a)(z,2),W=G[0],L=G[1],V=Object(l.useState)(0),P=Object(o.a)(V,2),K=P[0],U=P[1],J=Object(l.useState)(0),q=Object(o.a)(J,2),X=q[0],Z=q[1],$=Object(l.useState)(0),_=Object(o.a)($,2),ee=_[0],te=_[1],ae=Object(l.useState)(0),le=Object(o.a)(ae,2),re=le[0],ne=le[1],ie=Object(l.useState)(0),oe=Object(o.a)(ie,2),ce=oe[0],se=oe[1],ue=Object(l.useState)(r.a.createRef()),me=Object(o.a)(ue,2),de=me[0],ge=(me[1],Object(l.useState)(0)),pe=Object(o.a)(ge,2),be=pe[0],he=pe[1],fe=Object(l.useState)(0),Ee=Object(o.a)(fe,2),ve=Ee[0],ye=Ee[1],je=Object(l.useState)(0),Oe=Object(o.a)(je,2),ke=Oe[0],we=Oe[1],xe=Object(l.useState)(r.a.createRef()),Se=Object(o.a)(xe,2),Ce=(Se[0],Se[1],Object(l.useState)(0)),De=Object(o.a)(Ce,2),Ne=De[0],Te=De[1],Ae=Object(l.useState)(0),Be=Object(o.a)(Ae,2),Fe=Be[0],Me=Be[1],Re=Object(l.useState)(0),ze=Object(o.a)(Re,2),Ie=ze[0],Ge=ze[1],We=Object(l.useState)(r.a.createRef()),Le=Object(o.a)(We,2),Ve=Le[0],Pe=(Le[1],Object(l.useState)("")),Ke=Object(o.a)(Pe,2),Ue=Ke[0],Qe=Ke[1],He=Object(l.useState)(""),Ye=Object(o.a)(He,2),Je=Ye[0],qe=Ye[1],Xe=Object(l.useState)(-1),Ze=Object(o.a)(Xe,2),$e=Ze[0],_e=Ze[1],et=Object(l.useState)(!1),tt=Object(o.a)(et,2),at=tt[0],lt=tt[1],rt=Y();Object(l.useEffect)((function(){for(var e=Object.keys(t.progress),a=0;a<=nt();a++)console.log(e[0]),console.log(e[1]),console.log(t.progress[e[0]][a]),console.log(t.progress[e[1]][a]),void 0==t.progress[e[0]][a]&&H.child("goals").child(t.key).child("progress").child(e[0]).child(a).set(0),void 0==t.progress[e[1]][a]&&H.child("goals").child(t.key).child("progress").child(e[1]).child(a).set(0);var l=function(e){e.val()&&(Qe(e.val()[t.groupMembers.creator].name.split(" ")[0]),qe(e.val()[t.groupMembers.invitee].name.split(" ")[0]))},r=I.database().ref("users");return r.on("value",l,(function(e){return alert(e)})),function(){r.off("value",l)}}),[]),Object(l.useEffect)((function(){s(it);var e=Ve.current.offsetWidth,l=(Ve.current.offsetHeight,.3*e),r=.31*e;Ge(r),Me(0),Te(e/2-r/2),we(l),ye(0-l/2+r/2),he(e/2-l/2);var n=.3*e*(t.progress[t.groupMembers.creator][nt()]/t.minimum);Z(n),L(e/2-n/2),U(0-n/2+r/2);var i=.3*e*(t.progress[t.groupMembers.invitee][nt()]/t.minimum);se(i),te(e/2-i/2),ne(0-i/2+r/2),_e(ot(a.id))}),[t]);var nt=function(){var e=new Date(t.startDate),a=(new Date).getTime()-e.getTime();return Math.floor(a/864e5)},it=function(){var e=nt();return t.progress[a.uid][e]},ot=function(){nt();return a.uid===t.groupMembers.creator?t.lastRemindCreator:t.lastRemindInvitee};return r.a.createElement(x.a,{anchorOrigin:{vertical:"top",horizontal:"left"},color:"secondary",badgeContent:r.a.createElement(N.a,{fontSize:"small"}),invisible:!(nt()===$e&&t.progress[a.uid][nt()]<t.minimum)},r.a.createElement(x.a,{badgeContent:r.a.createElement(C.a,{onClick:function(){return lt(!0)}}),color:"primary",anchorOrigin:{vertical:"top",horizontal:"right"}},r.a.createElement(T.a,{open:at,onClose:function(){return lt(!1)}},r.a.createElement(B.a,null,"Are you sure you want to archive or delete this goal?"),r.a.createElement(A.a,null,r.a.createElement(m.a,{onClick:function(){return lt(!1)}},"Cancel"),t.confirmed?r.a.createElement(m.a,{onClick:function(){a.uid===t.groupMembers.creator?H.child("goals").child(t.key).child("archivedCreator").set(!0):H.child("goals").child(t.key).child("archivedInvitee").set(!0),lt(!1)}},"Archive"):null,r.a.createElement(m.a,{onClick:function(){a.uid===t.groupMembers.creator?(H.child("users").child(t.groupMembers.creator).child("goals").child(t.key).set(null),H.child("goals").child(t.key).child("deleted").set(!0)):(H.child("users").child(t.groupMembers.invitee).child("invites").child(t.key).set(null),H.child("goals").child(t.key).child("deleted").set(!0))}},"Delete"))),r.a.createElement(h.a,{className:rt.root},r.a.createElement(E.a,null,r.a.createElement("div",{style:{width:"80%",display:"inline-block"}},r.a.createElement(p.a,{variant:"h5",component:"h2"},t.title),r.a.createElement(p.a,{className:rt.pos,color:"textSecondary"},r.a.createElement("br",null),"Started: ",t.startDate,r.a.createElement("br",null),"Days Left: ",7*t.duration-nt(),r.a.createElement("br",null))),r.a.createElement("div",{style:{width:"20%",display:"inline-block",float:"right"}},r.a.createElement(v.a,null,r.a.createElement(y.a,null,r.a.createElement(O.a,null,r.a.createElement(j.a,{className:rt.ourSpecialBlue}," ",Ue)),r.a.createElement(O.a,null,r.a.createElement(j.a,{className:rt.ourSpecialGreen}," ",Je))))),r.a.createElement("div",{ref:Ve,style:{position:"relative",height:1.05*Ie,width:"100%"}},r.a.createElement("div",{style:{overflow:"visible",position:"absolute",left:Ne,top:Fe,width:Ie,height:Ie},className:Object(w.a)(rt.backCircle,rt.shapeCircle)}),r.a.createElement("div",{ref:de,style:{overflow:"visible",position:"absolute",left:be,top:ve,width:ke,height:ke},className:Object(w.a)(rt.goalCircle,rt.shapeCircle)}),r.a.createElement("div",{ref:D,style:{overflow:"visible",position:"absolute",left:W,top:K,width:X,height:X},className:Object(w.a)(rt.shape1,rt.shapeCircle)}),r.a.createElement("div",{ref:R,style:{overflow:"visible",position:"absolute",left:ee,top:re,width:ce,height:ce},className:Object(w.a)(rt.shape2,rt.shapeCircle)})),r.a.createElement(f.a,{className:rt.update},r.a.createElement(p.a,null,r.a.createElement("b",null,"Day ",nt()," ")),t.deleted||t.rejected?r.a.createElement(p.a,null,t.rejected?"Your friend has rejected the goal invite.":"Your friend has removed the goal."):r.a.createElement("div",{style:{height:"23px"}}),r.a.createElement(p.a,null,"Daily Goal: ",t.minimum," ",t.metric),"Quantitative"===t.goalType?r.a.createElement(k.a,{variant:"outlined",type:"number",onChange:function(e,t){s(e.target.value)},defaultValue:c,size:"small",style:{width:"176px"}}):r.a.createElement("div",{style:{height:"40px"}}),r.a.createElement(m.a,{size:"medium",variant:"contained",color:"primary",style:{marginTop:"10px"},onClick:function(e,l){var r=nt();""===c?alert("Not a number"):"Quantitative"==t.goalType?(H.child("goals").child(t.key).child("progress").child(a.uid).child(r).set(parseInt(c)),g(!0)):(H.child("goals").child(t.key).child("progress").child(a.uid).child(r).set(1),g(!0))}},"Quantitative"===t.goalType?"Update Progress":"Mark Complete")),r.a.createElement(f.a,{style:{marginBottom:"-15px"}},r.a.createElement(m.a,{size:"medium",variant:"contained",color:"secondary",onClick:function(){alert("You have reminded your friend!");var e=nt();a.uid===t.groupMembers.creator?H.child("goals").child(t.key).child("lastRemindInvitee").set(e):H.child("goals").child(t.key).child("lastRemindCreator").set(e)},style:{width:"56%"}},"Remind Friend"),r.a.createElement(Q,{goal:t}))))))},q=a(147),X=a(5),Z=a(230),$=a.n(Z),_=a(236),ee=a(541),te=a(542),ae=a(529),le=a(536),re=a(527),ne=a(238),ie=a(23),oe=a(535),ce=(Object(X.a)((function(e){return{root:{"label + &":{marginTop:e.spacing(3)}},input:{borderRadius:4,position:"relative",backgroundColor:e.palette.background.paper,border:"1px solid #ced4da",fontSize:16,padding:"10px 26px 10px 12px",transition:e.transitions.create(["border-color","box-shadow"]),fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),"&:focus":{borderRadius:4,borderColor:"#80bdff",boxShadow:"0 0 0 0.2rem rgba(0,123,255,.25)"}}}}))(ne.a),I.database().ref()),se=Object(u.a)((function(e){return{button:{marginTop:5}}})),ue=function(e){var t=e.open,a=e.user,n=e.setOpen,i=e.emailTouid,c=Object(l.useState)(),s=Object(o.a)(c,2),u=s[0],d=s[1],g=Object(l.useState)(),p=Object(o.a)(g,2),b=p[0],h=p[1],f=Object(l.useState)(new Date),E=Object(o.a)(f,2),v=E[0],y=E[1],j=Object(l.useState)(),O=Object(o.a)(j,2),w=O[0],x=O[1],S=Object(l.useState)(),C=Object(o.a)(S,2),D=C[0],N=C[1],F=Object(l.useState)(),R=Object(o.a)(F,2),z=R[0],I=R[1],G=Object(l.useState)(),L=Object(o.a)(G,2),V=L[0],P=L[1],K=Object(l.useState)(""),U=Object(o.a)(K,2),Q=U[0],H=U[1],Y=se(),J=function(){n(!1),d(),y(new Date),x(),N(),I(),H(""),P()},X={PaperProps:{style:{maxHeight:224,width:250}}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{container:!0,direction:"row",justify:"center"},r.a.createElement(W.a,{item:!0},r.a.createElement(m.a,{className:Y.button,variant:"contained",color:"primary",startIcon:r.a.createElement($.a,{fontSize:"large"}),size:"large",onClick:function(){n(!0)}},"Add a new goal"))),r.a.createElement(T.a,{open:t,onClose:J},r.a.createElement(M.a,null,"Create a new goal"),r.a.createElement(B.a,null,r.a.createElement(k.a,{autoFocus:!0,margin:"dense",label:"Goal Title",fullWidth:!0,onChange:function(e){return d(e.target.value)},placeholder:"What's your goal focus? (e.g. Reading, Meditation, Daily Pushups)",inputProps:{maxLength:15}}),r.a.createElement(k.a,{margin:"dense",label:"Goal Description",fullWidth:!0,onChange:function(e){return h(e.target.value)},placeholder:"What will you do every day to reach your goal? Set S.M.A.R.T goals!"}),r.a.createElement(k.a,{margin:"dense",label:"Goal Metric",fullWidth:!0,onChange:function(e){return x(e.target.value)},placeholder:"What unit will you measure everyday? (e.g. pushups done, minutes spent)"}),r.a.createElement(ae.a,{className:Y.formControl,style:{width:"100%"}},r.a.createElement(ee.a,{id:"demo-mutiple-name-label"},"Goal Type"),r.a.createElement(le.a,{labelId:"demo-mutiple-name-label",id:"demo-mutiple-name",value:Q,style:{width:"100%"},onChange:function(e){return H(e.target.value)},input:r.a.createElement(re.a,{style:{width:"100%"}}),MenuProps:X},["Quantitative","Qualitative"].map((function(e){return r.a.createElement(te.a,{key:e,value:e},e)})))),"Qualitative"===Q?r.a.createElement(r.a.Fragment,null):r.a.createElement(k.a,{margin:"dense",label:"Daily Minimum",fullWidth:!0,onChange:function(e){return N(e.target.value)},placeholder:"How much do you need to do to complete your daily goal? (e.g. 10)",type:"number"}),r.a.createElement(k.a,{margin:"dense",label:"Goal Duration",fullWidth:!0,onChange:function(e){return I(e.target.value)},placeholder:"How many weeks will you work on your goal?(e.g. 2)",type:"number"}),r.a.createElement(ie.a,{utils:_.a},r.a.createElement(oe.a,{format:"MM/dd/yyyy",margin:"normal",label:"Goal Start Date",value:v,onChange:function(e){y(e)},fullWidth:!0,KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(k.a,{margin:"dense",label:"Invite Your Friend",fullWidth:!0,onChange:function(e){return P(e.target.value)},placeholder:"Who do you want to work with? Please provide your friend's email address."})),r.a.createElement(A.a,null,r.a.createElement(m.a,{onClick:J},"Cancel"),r.a.createElement(m.a,{onClick:function(){if(void 0===u||void 0===b||void 0===w||void 0===D&&"Quantitative"===Q||void 0===z||void 0===V||""===u||""===b||""===w||""===D&&"Quantitative"===Q||""===z||""===V||""==Q)alert("Please fill in all fields.");else{var e=V.replace(/\./g,",");if(i[e]){var t;alert("Success! New Goal Created!");var l=v.toLocaleString("en-US",{timeZone:"America/Chicago"}),r=JSON.stringify(l).split('"')[1].split(",")[0],n=ce.child("goals").push(),o=n.key,c={deleted:!1,rejected:!1,confirmed:!1,archivedCreator:!1,archivedInvitee:!1,key:o,title:u,description:b,startDate:r,duration:z,goalType:Q,groupMembers:{creator:a.uid,invitee:i[e]},minimum:"Quantitative"===Q?D:"1",metric:w,progress:(t={},Object(q.a)(t,a.uid,{0:0}),Object(q.a)(t,i[e],{0:0}),t),lastRemindCreator:-1,lastRemindInvitee:-1};n.update(c),ce.child("users").child(a.uid).child("goals").child(o).set(o),ce.child("users").child(i[e]).child("invites").child(o).set(o),J()}else alert("The user does not exist. Please try again.")}}},"Submit"))))},me=a(231),de=a.n(me),ge=I.database().ref(),pe=Object(u.a)({root:{margin:"auto",minWidth:"35%",boxShadow:"3px 3px 25px 2px rgba(0,0,0,0.5)"},title:{fontSize:14},table:{tableLayout:"auto",width:"99.9%",marginTop:"0px",marginBottom:"10px"},marginless:{margin:0},tableCont:{width:"300"},progressFilled1:{size:"small",backgroundColor:"#14ECF5",border:"1px solid black"},progressFilled2:{size:"small",backgroundColor:"#14F58E",border:"1px solid black"},progressUnfilled:{size:"small",border:"1px solid black"},pos:{marginBottom:12},ourSpecialBlue:{backgroundColor:"#14ECF5",padding:"5px"},ourSpecialGreen:{backgroundColor:"#14F58E",padding:"5px"},weekDays:{size:"small",borderBottom:"1px solid black",paddingBottom:"0px",paddingTop:"10px",textAlign:"center",width:"50px"},onDays:{size:"small",borderBottom:"1px solid black",paddingBottom:"0px",paddingTop:"10px",textAlign:"center",width:"50px",backgroundColor:"#14ECF5"},shape1:{backgroundColor:"#14ECF5",opacity:.5},shape2:{backgroundColor:"#14F58E",opacity:.5},shapeCircle:{borderRadius:"50%"},goalCircle:{backgroundColor:"white"},backCircle:{backgroundColor:"black"}}),be=function(e){var t=e.goal,a=e.user,n=Object(l.useState)(0),i=Object(o.a)(n,2),c=(i[0],i[1]),s=Object(l.useState)(!1),u=Object(o.a)(s,2),d=(u[0],u[1],Object(l.useState)(r.a.createRef())),g=Object(o.a)(d,2),b=(g[0],g[1],Object(l.useState)(r.a.createRef())),f=Object(o.a)(b,2),k=(f[0],f[1],Object(l.useState)(0)),w=Object(o.a)(k,2),S=(w[0],w[1],Object(l.useState)(0)),D=Object(o.a)(S,2),F=(D[0],D[1],Object(l.useState)(0)),M=Object(o.a)(F,2),R=(M[0],M[1],Object(l.useState)(0)),z=Object(o.a)(R,2),G=(z[0],z[1],Object(l.useState)(0)),W=Object(o.a)(G,2),L=(W[0],W[1],Object(l.useState)(0)),V=Object(o.a)(L,2),P=(V[0],V[1],Object(l.useState)(r.a.createRef())),K=Object(o.a)(P,2),U=(K[0],K[1],Object(l.useState)(0)),H=Object(o.a)(U,2),Y=(H[0],H[1],Object(l.useState)(0)),J=Object(o.a)(Y,2),q=(J[0],J[1],Object(l.useState)(0)),X=Object(o.a)(q,2),Z=(X[0],X[1],Object(l.useState)(r.a.createRef())),$=Object(o.a)(Z,2),_=($[0],$[1],Object(l.useState)(0)),ee=Object(o.a)(_,2),te=(ee[0],ee[1],Object(l.useState)(0)),ae=Object(o.a)(te,2),le=(ae[0],ae[1],Object(l.useState)(0)),re=Object(o.a)(le,2),ne=(re[0],re[1],Object(l.useState)(r.a.createRef())),ie=Object(o.a)(ne,2),oe=(ie[0],ie[1],Object(l.useState)("")),ce=Object(o.a)(oe,2),se=ce[0],ue=ce[1],me=Object(l.useState)(""),be=Object(o.a)(me,2),he=be[0],fe=be[1],Ee=Object(l.useState)(-1),ve=Object(o.a)(Ee,2),ye=ve[0],je=(ve[1],Object(l.useState)(!1)),Oe=Object(o.a)(je,2),ke=Oe[0],we=Oe[1],xe=pe();Object(l.useEffect)((function(){var e=function(e){e.val()&&(ue(e.val()[t.groupMembers.creator].name.split(" ")[0]),fe(e.val()[t.groupMembers.invitee].name.split(" ")[0]))},a=I.database().ref("users");return a.on("value",e,(function(e){return alert(e)})),function(){a.off("value",e)}}),[]),Object(l.useEffect)((function(){c(Ce)}),[t]);var Se=function(){var e=new Date(t.startDate),a=(new Date).getTime()-e.getTime();return Math.floor(a/864e5)},Ce=function(){var e=Se();return t.progress[a.uid][e]};return r.a.createElement(x.a,{anchorOrigin:{vertical:"top",horizontal:"left"},color:"secondary",badgeContent:r.a.createElement(N.a,{fontSize:"small"}),invisible:!(Se()===ye&&t.progress[a.uid][Se()]<t.minimum)},r.a.createElement(x.a,{badgeContent:r.a.createElement(C.a,{onClick:function(){return we(!0)}}),color:"primary",anchorOrigin:{vertical:"top",horizontal:"right"}},r.a.createElement(T.a,{open:ke,onClose:function(){return we(!1)}},r.a.createElement(B.a,null,"Are you sure you want to delete this goal?"),r.a.createElement(A.a,null,r.a.createElement(m.a,{onClick:function(){return we(!1)}},"Cancel"),t.confirmed?r.a.createElement(m.a,{onClick:function(){a.uid===t.groupMembers.creator?ge.child("goals").child(t.key).child("archivedCreator").set(!0):ge.child("goals").child(t.key).child("archivedInvitee").set(!0),we(!1)}},"Archive"):null,r.a.createElement(m.a,{onClick:function(){a.uid===t.groupMembers.creator?(ge.child("users").child(t.groupMembers.creator).child("goals").child(t.key).set(null),ge.child("goals").child(t.key).child("deleted").set(!0)):(ge.child("users").child(t.groupMembers.invitee).child("invites").child(t.key).set(null),ge.child("goals").child(t.key).child("deleted").set(!0))}},"Delete"))),r.a.createElement(h.a,{className:xe.root},r.a.createElement(E.a,null,r.a.createElement("div",{style:{width:"80%",display:"inline-block"}},r.a.createElement(p.a,{variant:"h5",component:"h2"},t.title),r.a.createElement(p.a,{className:xe.pos,color:"textSecondary"},r.a.createElement("br",null),r.a.createElement("br",null),"Started: ",t.startDate,r.a.createElement("br",null),"Duration: ",t.duration+" Weeks",r.a.createElement("br",null),"Ended: ",new Date(new Date(t.startDate).getTime()+7*t.duration*24*60*60*1e3).getMonth()+1+"/"+new Date(new Date(t.startDate).getTime()+7*t.duration*24*60*60*1e3).getDate()+"/"+new Date(new Date(t.startDate).getTime()+7*t.duration*24*60*60*1e3).getFullYear())),r.a.createElement("div",{style:{width:"20%",display:"inline-block",float:"right"}},r.a.createElement(v.a,null,r.a.createElement(y.a,null,r.a.createElement(O.a,null,r.a.createElement(j.a,{className:xe.ourSpecialBlue}," ",se)),r.a.createElement(O.a,null,r.a.createElement(j.a,{className:xe.ourSpecialGreen}," ",he))))),r.a.createElement("div",{style:{textAlign:"center",display:"inline-block",width:"100%"}},r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(de.a,{style:{fontSize:100,color:"#14F58E",marginLeft:"auto",marginRight:"auto"}}))),r.a.createElement("br",null),r.a.createElement("div",{style:{textAlign:"center",display:"inline-block",width:"100%"}},r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(Q,{buttonText:"Review Goal",goal:t})))))))},he=I.database().ref(),fe=Object(u.a)({root:{width:"280px",boxShadow:"3px 3px 25px 2px rgba(0,0,0,0.5)"},title:{fontSize:14},pos:{marginBottom:12}}),Ee=function(e){var t=e.goal,a=e.user,n=Object(l.useState)(0),i=Object(o.a)(n,2),c=(i[0],i[1]),s=Object(l.useState)(""),u=Object(o.a)(s,2),d=u[0],g=u[1],f=fe();Object(l.useEffect)((function(){for(var e=Object.keys(t.progress),a=0;a<=v();a++)void 0==t.progress[e[0]][a]&&he.child("goals").child(t.key).child("progress").child(e[0]).child(a).set(0),void 0==t.progress[e[1]][a]&&he.child("goals").child(t.key).child("progress").child(e[1]).child(a).set(0)}),[]),Object(l.useEffect)((function(){c(y)}),[t]);var v=function(){var e=new Date(t.startDate),a=(new Date).getTime()-e.getTime();return Math.floor(a/864e5)},y=function(){var e=v();return t.progress[a.uid][e]};return Object(l.useEffect)((function(){var e=function(e){e.val()&&g(e.val()[t.groupMembers.creator].name)},a=I.database().ref("users");return a.on("value",e,(function(e){return alert(e)})),function(){a.off("value",e)}}),[]),r.a.createElement(h.a,{className:f.root},r.a.createElement(E.a,null,r.a.createElement("div",{style:{display:"inline-block"}},r.a.createElement(p.a,{variant:"h5",component:"h2"},t.title),r.a.createElement(p.a,{className:f.pos,color:"textSecondary"},r.a.createElement("br",null),"Invite From: ",d,r.a.createElement("br",null),"Start Date: ",t.startDate,r.a.createElement("br",null),"Duration: ",t.duration," Weeks",r.a.createElement("br",null),"Daily Goal: ",t.minimum," ",t.metric)),r.a.createElement(b.a,{style:{marginLeft:"auto",marginRight:"auto",display:"inline-block"}},r.a.createElement(m.a,{size:"small",variant:"contained",color:"primary",style:{float:"left",marginBottom:"10px"},onClick:function(){he.child("goals").child(t.key).child("confirmed").set(!0),alert("accept!")}},"Accept"),r.a.createElement(m.a,{size:"small",variant:"contained",color:"primary",style:{float:"right",marginBottom:"10px"},onClick:function(){he.child("goals").child(t.key).child("confirmed").set(!0),he.child("users").child(t.groupMembers.invitee).child("invites").child(t.key).set(null),he.child("goals").child(t.key).child("rejected").set(!0),alert("reject!")}},"Reject"))))},ve=Object(u.a)((function(e){return{toggleContainer:{width:"250px"},togglebutton:{width:"100px"}}})),ye=function(e){var t=e.showGoals,a=e.setShowGoals,l=ve();return r.a.createElement(W.a,{container:!0,spacing:2},r.a.createElement(W.a,{item:!0,sm:12,md:6},r.a.createElement(V.a,{value:t,exclusive:!0,onChange:function(e,t){null!==t&&a(t)},"aria-label":"text alignment",className:l.toggleContainer},r.a.createElement(L.a,{value:"ALL","aria-label":"centered"},r.a.createElement("div",{className:l.toggleButton}," Show All ")),r.a.createElement(L.a,{value:"TODO","aria-label":"centered",className:l.toggleButton},r.a.createElement("div",{className:l.toggleButton}," Show To-Do ")))))},je=Object(u.a)((function(e){return{gridcontainer:{marginTop:"5px"},griditem:{marginTop:"5px",marginBottom:"5px"},carditem:{marginLeft:"25px",marginRight:"25px"},inviteitem:{}}})),Oe=function(e){var t=e.goals,a=e.invites,n=e.user,i=e.gridView,c=je(),s=Object(l.useState)([]),u=Object(o.a)(s,2),m=u[0],d=u[1],g=Object(l.useState)([]),b=Object(o.a)(g,2),h=b[0],f=b[1],E=Object(l.useState)([]),v=Object(o.a)(E,2),y=v[0],j=v[1],O=r.a.useState("ALL"),k=Object(o.a)(O,2),w=k[0],x=k[1];Object(l.useEffect)((function(){var e=[],l=[],r=[];Object.values(t).map((function(t){return t.confirmed?e.push(t):l.push(t)})),Object.values(a).map((function(t){return t.confirmed?e.push(t):r.push(t)})),d(e),f(l),j(r)}),[t]);var S=function(e,t){return e===t.groupMembers.creator?t.archivedCreator:t.archivedInvitee};return r.a.createElement(r.a.Fragment,null,"ACTIVE"===i?r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{container:!0,className:c.gridcontainer,spacing:3,direction:"row",justify:"flex-start"},r.a.createElement(W.a,{item:!0,xs:12,className:c.griditem},r.a.createElement("div",null,r.a.createElement("div",{style:{float:"left"}},r.a.createElement(p.a,{variant:"h4"},"Active Goals")),r.a.createElement("div",{style:{float:"right"}},n?r.a.createElement(ye,{showGoals:w,setShowGoals:x}):null))),"ALL"===w?m.map((function(e){return S(n.uid,e)?null:r.a.createElement(W.a,{item:!0,className:c.carditem},r.a.createElement(J,{goal:e,user:n,key:e.key}))})):m.map((function(e){return!S(n.uid,e)&&e.progress[n.uid][function(e){var t=new Date(e.startDate),a=(new Date).getTime()-t.getTime();return Math.floor(a/864e5)}(e)]<e.minimum?r.a.createElement(W.a,{item:!0,className:c.carditem},r.a.createElement(J,{goal:e,user:n,key:e.key})):null}))),r.a.createElement(W.a,{container:!0,className:c.gridcontainer,spacing:3,direction:"row",justify:"flex-start"},r.a.createElement(W.a,{item:!0,xs:12,className:c.griditem},r.a.createElement(p.a,{variant:"h4"},"Pending Goals")),h.map((function(e){return S(n.uid,e)?null:r.a.createElement(W.a,{item:!0,className:c.carditem},r.a.createElement(J,{goal:e,user:n,key:e.key}))})))):"INVITES"===i?r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{container:!0,className:c.gridcontainer,spacing:3,direction:"row",justify:"flex-start"},r.a.createElement(W.a,{item:!0,xs:10,className:c.griditem},r.a.createElement(p.a,{variant:"h4"},"New Invites")),y.map((function(e){return r.a.createElement(W.a,{item:!0,className:c.carditem},r.a.createElement(Ee,{goal:e,user:n,key:e.key}))})))):r.a.createElement(W.a,{container:!0,className:c.gridcontainer,spacing:3,direction:"row",justify:"flex-start"},r.a.createElement(W.a,{item:!0,xs:12,className:c.griditem},r.a.createElement(p.a,{variant:"h4"},"Archive")),m.map((function(e){return S(n.uid,e)?r.a.createElement(W.a,{item:!0,className:c.carditem},r.a.createElement(be,{goal:e,user:n,key:e.key})):null}))))},ke=a(234),we=a.n(ke),xe=a(233),Se=a.n(xe),Ce=a(235),De=a.n(Ce),Ne=a(531),Te=a(537),Ae=I.database().ref(),Be={signInFlow:"popup",signInOptions:[I.auth.GoogleAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(){return!1}}},Fe=Object(u.a)((function(e){return{title:{flexGrow:1},icons:{margin:"5px",color:"white"}}})),Me=function(e){var t=e.user,a=e.invites,l=e.setGridView,n=Fe(),i=0;return Object.values(a).map((function(e){return e.confirmed?null:i++})),r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{position:"static"},r.a.createElement(g.a,null,r.a.createElement(p.a,{variant:"h5",className:n.title,onClick:function(){window.location.reload(!1)}},"Work2Gather"),r.a.createElement(Te.a,{title:"Home"},r.a.createElement(Ne.a,{onClick:function(){return l("ACTIVE")}},r.a.createElement(Se.a,{className:n.icons}))),r.a.createElement(Te.a,{title:"Invites"},r.a.createElement(Ne.a,{onClick:function(){return l("INVITES")}},r.a.createElement(x.a,{anchorOrigin:{vertical:"top",horizontal:"left"},badgeContent:i,color:"secondary",className:n.icons},r.a.createElement(we.a,null)))),r.a.createElement(Te.a,{title:"Archive"},r.a.createElement(Ne.a,{onClick:function(){return l("ARCHIVE")}},r.a.createElement(De.a,{className:n.icons}))),r.a.createElement(p.a,{variant:"h6",style:{marginLeft:"10px",float:"center",marginRight:30}},"Welcome, ",t.displayName?t.displayName.split(" ")[0]:""),r.a.createElement(m.a,{style:{fontSize:21},color:"inherit",onClick:function(){l("ACTIVE"),I.auth().signOut()}},"Log out"))))},Re=function(){return r.a.createElement(s.a,{uiConfig:Be,firebaseAuth:I.auth()})},ze=function(e){var t=e.user,a=e.invites,l=(e.title,e.setGridView);return r.a.createElement(r.a.Fragment,null,t?r.a.createElement(Me,{user:t,invites:a,setGridView:l}):r.a.createElement(Re,null))},Ie=function(){var e=Object(l.useState)({}),t=Object(o.a)(e,2),a=t[0],n=t[1],i=Object(l.useState)({}),c=Object(o.a)(i,2),s=c[0],u=c[1],m=Object(l.useState)({}),d=Object(o.a)(m,2),g=d[0],p=d[1],h=Object(l.useState)({}),f=Object(o.a)(h,2),E=f[0],v=f[1],y=Object(l.useState)(!1),j=Object(o.a)(y,2),O=j[0],k=j[1],w=Object(l.useState)("ACTIVE"),x=Object(o.a)(w,2),S=x[0],C=x[1],D=Object.values(a);return Object(l.useEffect)((function(){I.auth().onAuthStateChanged(p)}),[]),Object(l.useEffect)((function(){var e=function(e){if(g){if(e.val()){var t=g.email.replace(/\./gi,",");if(Ae.child("emailTouid/"+t).set(g.uid),v(e.val().emailTouid),e.val().users[g.uid]||Ae.child("users").child(g.uid).child("name").set(g.displayName),e.val().users[g.uid]&&e.val().users[g.uid].goals){var a=e.val().users[g.uid].goals;n(Object.values(a).map((function(t){return e.val().goals[t]})))}else n({});if(e.val().users[g.uid]&&e.val().users[g.uid].invites){var l=e.val().users[g.uid].invites;u(Object.values(l).map((function(t){return e.val().goals[t]})))}else u({})}}else n({}),v({})};return Ae.on("value",e,(function(e){return alert(e)})),function(){Ae.off("value",e)}}),[g]),r.a.createElement("div",null,r.a.createElement(ze,{user:g,invites:s,title:"Work2Gather",setGridView:C}),r.a.createElement("br",null),g?r.a.createElement(ue,{open:O,user:g,setOpen:k,emailTouid:E}):null,g?r.a.createElement(b.a,{maxWidth:"xl"},r.a.createElement(Oe,{goals:D,invites:s,user:g,gridView:S})):null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[282,1,2]]]);
//# sourceMappingURL=main.7de95b7a.chunk.js.map