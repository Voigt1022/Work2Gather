{"ast":null,"code":"import _slicedToArray from\"/Users/eddie/Documents/GitHub/quick-travis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import Card from\"@material-ui/core/Card\";import CardActions from\"@material-ui/core/CardActions\";import CardContent from\"@material-ui/core/CardContent\";import Button from\"@material-ui/core/Button\";import Typography from\"@material-ui/core/Typography\";import Table from\"@material-ui/core/Table\";import TableBody from\"@material-ui/core/TableBody\";import TableCell from\"@material-ui/core/TableCell\";import TableContainer from\"@material-ui/core/TableContainer\";import TableHead from\"@material-ui/core/TableHead\";import TableRow from\"@material-ui/core/TableRow\";import Slider from\"@material-ui/core/Slider\";import{TextField}from\"@material-ui/core\";import Container from\"@material-ui/core/Container\";import clsx from'clsx';import Badge from'@material-ui/core/Badge';import ClearIcon from'@material-ui/icons/Clear';import NotificationsIcon from\"@material-ui/icons/Notifications\";import Dialog from\"@material-ui/core/Dialog\";import DialogActions from\"@material-ui/core/DialogActions\";import DialogContent from\"@material-ui/core/DialogContent\";import DialogTitle from\"@material-ui/core/DialogTitle\";import SeeMore from\"./SeeMore\";import CheckCircleIcon from'@material-ui/icons/CheckCircle';import firebase from\"../shared/firebase\";var db=firebase.database().ref();var useStyles=makeStyles({root:{margin:\"auto\",minWidth:\"35%\",boxShadow:\"3px 3px 25px 2px rgba(0,0,0,0.5)\"// marginLeft: \"5%\",\n// marginRight: \"5%\",\n// overflow: \"auto\",\n// marginTop: \"50px\",\n// display: \"inline-block\",\n// border: \"1px solid black\"\n},title:{fontSize:14},table:{tableLayout:\"auto\",width:\"99.9%\",marginTop:\"0px\",marginBottom:\"10px\"},marginless:{margin:0},tableCont:{width:\"300\"},progressFilled1:{size:\"small\",backgroundColor:\"#14ECF5\",//our own special blue\nborder:\"1px solid black\"},progressFilled2:{size:\"small\",backgroundColor:\"#14F58E\",//our own special green\nborder:\"1px solid black\"},progressUnfilled:{size:\"small\",border:\"1px solid black\"},pos:{marginBottom:12},ourSpecialBlue:{backgroundColor:\"#14ECF5\",//our own special blue\npadding:\"5px\"},ourSpecialGreen:{backgroundColor:\"#14F58E\",//our own special green\npadding:\"5px\"},weekDays:{size:\"small\",borderBottom:\"1px solid black\",paddingBottom:\"0px\",paddingTop:\"10px\",textAlign:\"center\",width:\"50px\"},onDays:{size:\"small\",borderBottom:\"1px solid black\",paddingBottom:\"0px\",paddingTop:\"10px\",textAlign:\"center\",width:\"50px\",backgroundColor:\"#14ECF5\"},shape1:{backgroundColor:\"#14ECF5\",opacity:0.5},shape2:{backgroundColor:\"#14F58E\",opacity:0.5},shapeCircle:{borderRadius:\"50%\"},goalCircle:{backgroundColor:\"white\"},backCircle:{backgroundColor:\"black\"}});var ArchiveCard=function ArchiveCard(_ref){var goal=_ref.goal,user=_ref.user;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),progress=_useState2[0],setProgress=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),checkedIn=_useState4[0],setCheckedIn=_useState4[1];var _useState5=useState(React.createRef()),_useState6=_slicedToArray(_useState5,2),circle1Ref=_useState6[0],setCircle1Ref=_useState6[1];var _useState7=useState(React.createRef()),_useState8=_slicedToArray(_useState7,2),circle2Ref=_useState8[0],setCircle2Ref=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),circle1Left=_useState10[0],setCircle1Left=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),circle1Top=_useState12[0],setCircle1Top=_useState12[1];var _useState13=useState(0),_useState14=_slicedToArray(_useState13,2),circle1Radius=_useState14[0],setCircle1Radius=_useState14[1];var _useState15=useState(0),_useState16=_slicedToArray(_useState15,2),circle2Left=_useState16[0],setCircle2Left=_useState16[1];var _useState17=useState(0),_useState18=_slicedToArray(_useState17,2),circle2Top=_useState18[0],setCircle2Top=_useState18[1];var _useState19=useState(0),_useState20=_slicedToArray(_useState19,2),circle2Radius=_useState20[0],setCircle2Radius=_useState20[1];var _useState21=useState(React.createRef()),_useState22=_slicedToArray(_useState21,2),goalCircleRef=_useState22[0],setGoalCircleRef=_useState22[1];var _useState23=useState(0),_useState24=_slicedToArray(_useState23,2),goalCircleLeft=_useState24[0],setGoalCircleLeft=_useState24[1];var _useState25=useState(0),_useState26=_slicedToArray(_useState25,2),goalCircleTop=_useState26[0],setGoalCircleTop=_useState26[1];var _useState27=useState(0),_useState28=_slicedToArray(_useState27,2),goalCircleRadius=_useState28[0],setGoalCircleRadius=_useState28[1];var _useState29=useState(React.createRef()),_useState30=_slicedToArray(_useState29,2),backCircleRef=_useState30[0],setBackCircleRef=_useState30[1];var _useState31=useState(0),_useState32=_slicedToArray(_useState31,2),backCircleLeft=_useState32[0],setBackCircleLeft=_useState32[1];var _useState33=useState(0),_useState34=_slicedToArray(_useState33,2),backCircleTop=_useState34[0],setBackCircleTop=_useState34[1];var _useState35=useState(0),_useState36=_slicedToArray(_useState35,2),backCircleRadius=_useState36[0],setBackCircleRadius=_useState36[1];var _useState37=useState(React.createRef()),_useState38=_slicedToArray(_useState37,2),fullCardRef=_useState38[0],setFullCardRef=_useState38[1];var _useState39=useState(\"\"),_useState40=_slicedToArray(_useState39,2),creatorName=_useState40[0],setCreatorName=_useState40[1];var _useState41=useState(\"\"),_useState42=_slicedToArray(_useState41,2),inviteeName=_useState42[0],setInviteeName=_useState42[1];var _useState43=useState(-1),_useState44=_slicedToArray(_useState43,2),lastRemindDay=_useState44[0],setLastRemindDay=_useState44[1];var _useState45=useState(false),_useState46=_slicedToArray(_useState45,2),open=_useState46[0],setOpen=_useState46[1];var classes=useStyles();useEffect(function(){var setGoalUserNames=function setGoalUserNames(snap){if(snap.val()){setCreatorName(snap.val()[goal[\"groupMembers\"][\"creator\"]][\"name\"].split(\" \")[0]);setInviteeName(snap.val()[goal[\"groupMembers\"][\"invitee\"]][\"name\"].split(\" \")[0]);}};var dbUsers=firebase.database().ref(\"users\");dbUsers.on(\"value\",setGoalUserNames,function(error){return alert(error);});return function(){dbUsers.off(\"value\",setGoalUserNames);};var users=Object.keys(goal[\"progress\"]);for(var j=0;j<=getDayOn();j++){if(goal[\"progress\"][users[0]][j]==undefined){db.child(\"goals\").child(goal[\"key\"]).child(\"progress\").child(users[0]).child(j).set(0);//console.log(\"updating db for goal \" + goal.key + \" for user \" + users[0]);\n}if(goal[\"progress\"][users[1]][j]==undefined){db.child(\"goals\").child(goal[\"key\"]).child(\"progress\").child(users[1]).child(j).set(0);//console.log(\"updating db for goal \" + goal.key + \" for user \" + users[1]);\n}}},[]);useEffect(function(){setProgress(getProgress);},[goal]);var getDayOn=function getDayOn(){var startdate=new Date(goal[\"startDate\"]);var currentdate=new Date();var deltatime=currentdate.getTime()-startdate.getTime();var deltadays=Math.floor(deltatime/(1000*3600*24));return deltadays;};var getProgress=function getProgress(){var onDayNum=getDayOn();var checkedIn=goal[\"progress\"][user.uid][onDayNum];return checkedIn;};var saveProgress=function saveProgress(event,value){setProgress(event.target.value);};var updateProgress=function updateProgress(event,value){var onDayNum=getDayOn();if(progress===\"\"){alert(\"Not a number\");}else{db.child(\"goals\").child(goal[\"key\"]).child(\"progress\").child(user.uid).child(onDayNum).set(parseInt(progress));setCheckedIn(true);}};var handleSliderChange=function handleSliderChange(e,newValue){var onDayNum=getDayOn();db.child(\"goals\").child(goal[\"key\"]).child(\"progress\").child(user.uid).child(onDayNum).set(newValue);};var setReminder=function setReminder(){alert(\"You have reminded your friend!\");var onDayNum=getDayOn();if(user.uid===goal.groupMembers.creator){db.child(\"goals\").child(goal[\"key\"]).child(\"lastRemindInvitee\").set(onDayNum);}else{db.child(\"goals\").child(goal[\"key\"]).child(\"lastRemindCreator\").set(onDayNum);}};var getReminder=function getReminder(){var onDayNum=getDayOn();if(user.uid===goal.groupMembers.creator){return goal[\"lastRemindCreator\"];}else{return goal[\"lastRemindInvitee\"];}};var deleteGoal=function deleteGoal(){if(user.uid===goal.groupMembers.creator){db.child('users').child(goal.groupMembers.creator).child('goals').child(goal.key).set(null);db.child('goals').child(goal.key).child('deleted').set(true);}else{db.child('users').child(goal.groupMembers.invitee).child('invites').child(goal.key).set(null);db.child('goals').child(goal.key).child('deleted').set(true);}// db.child('goals').child(goal.key).set(null);\n};var archiveGoal=function archiveGoal(){if(user.uid===goal.groupMembers.creator){db.child('goals').child(goal.key).child('archivedCreator').set(true);}else{db.child('goals').child(goal.key).child('archivedInvitee').set(true);}setOpen(false);// db.child('goals').child(goal.key).set(null);\n};return/*#__PURE__*/React.createElement(Badge,{anchorOrigin:{vertical:\"top\",horizontal:\"left\"},color:\"secondary\",badgeContent:/*#__PURE__*/React.createElement(NotificationsIcon,{fontSize:\"small\"}),invisible:!(getDayOn()===lastRemindDay&&goal[\"progress\"][user.uid][getDayOn()]<goal[\"minimum\"])},/*#__PURE__*/React.createElement(Badge,{badgeContent:/*#__PURE__*/React.createElement(ClearIcon,{onClick:function onClick(){return setOpen(true);}}),color:\"primary\",anchorOrigin:{vertical:'top',horizontal:'right'}},/*#__PURE__*/React.createElement(Dialog,{open:open,onClose:function onClose(){return setOpen(false);}},/*#__PURE__*/React.createElement(DialogContent,null,\"Are you sure you want to delete this goal?\"),/*#__PURE__*/React.createElement(DialogActions,null,/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return setOpen(false);}},\"Cancel\"),goal.confirmed?/*#__PURE__*/React.createElement(Button,{onClick:archiveGoal},\"Archive\"):null,/*#__PURE__*/React.createElement(Button,{onClick:deleteGoal},\"Delete\"))),/*#__PURE__*/React.createElement(Card,{className:classes.root},/*#__PURE__*/React.createElement(CardContent,null,/*#__PURE__*/React.createElement(\"div\",{style:{width:\"80%\",display:\"inline-block\"}},/*#__PURE__*/React.createElement(Typography,{variant:\"h5\",component:\"h2\"},goal[\"title\"]),/*#__PURE__*/React.createElement(Typography,{className:classes.pos,color:\"textSecondary\"},/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),\"Started: \",goal[\"startDate\"],/*#__PURE__*/React.createElement(\"br\",null),\"Duration: \",goal[\"duration\"]+' Weeks',/*#__PURE__*/React.createElement(\"br\",null),\"Ended: \",new Date(new Date(goal[\"startDate\"]).getTime()+goal[\"duration\"]*7*24*60*60*1000).getMonth()+1+\"/\"+new Date(new Date(goal[\"startDate\"]).getTime()+goal[\"duration\"]*7*24*60*60*1000).getDate()+\"/\"+new Date(new Date(goal[\"startDate\"]).getTime()+goal[\"duration\"]*7*24*60*60*1000).getFullYear())),/*#__PURE__*/React.createElement(\"div\",{style:{width:\"20%\",display:\"inline-block\",float:\"right\"}},/*#__PURE__*/React.createElement(Table,null,/*#__PURE__*/React.createElement(TableBody,null,/*#__PURE__*/React.createElement(TableRow,null,/*#__PURE__*/React.createElement(TableCell,{className:classes.ourSpecialBlue},\" \",creatorName)),/*#__PURE__*/React.createElement(TableRow,null,/*#__PURE__*/React.createElement(TableCell,{className:classes.ourSpecialGreen},\" \",inviteeName))))),/*#__PURE__*/React.createElement(\"div\",{style:{textAlign:'center',display:'inline-block',width:'100%'}},/*#__PURE__*/React.createElement(\"div\",{style:{textAlign:'center'}},/*#__PURE__*/React.createElement(CheckCircleIcon,{style:{fontSize:100,color:'#14F58E',marginLeft:'auto',marginRight:'auto'}}))),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{style:{textAlign:'center',display:'inline-block',width:'100%'}},/*#__PURE__*/React.createElement(\"div\",{style:{textAlign:'center'}},/*#__PURE__*/React.createElement(SeeMore,{buttonText:'Review Goal',goal:goal})))))));};export default ArchiveCard;","map":{"version":3,"sources":["/Users/eddie/Documents/GitHub/quick-travis/src/Card/ArchiveCard.js"],"names":["React","useState","useEffect","makeStyles","Card","CardActions","CardContent","Button","Typography","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Slider","TextField","Container","clsx","Badge","ClearIcon","NotificationsIcon","Dialog","DialogActions","DialogContent","DialogTitle","SeeMore","CheckCircleIcon","firebase","db","database","ref","useStyles","root","margin","minWidth","boxShadow","title","fontSize","table","tableLayout","width","marginTop","marginBottom","marginless","tableCont","progressFilled1","size","backgroundColor","border","progressFilled2","progressUnfilled","pos","ourSpecialBlue","padding","ourSpecialGreen","weekDays","borderBottom","paddingBottom","paddingTop","textAlign","onDays","shape1","opacity","shape2","shapeCircle","borderRadius","goalCircle","backCircle","ArchiveCard","goal","user","progress","setProgress","checkedIn","setCheckedIn","createRef","circle1Ref","setCircle1Ref","circle2Ref","setCircle2Ref","circle1Left","setCircle1Left","circle1Top","setCircle1Top","circle1Radius","setCircle1Radius","circle2Left","setCircle2Left","circle2Top","setCircle2Top","circle2Radius","setCircle2Radius","goalCircleRef","setGoalCircleRef","goalCircleLeft","setGoalCircleLeft","goalCircleTop","setGoalCircleTop","goalCircleRadius","setGoalCircleRadius","backCircleRef","setBackCircleRef","backCircleLeft","setBackCircleLeft","backCircleTop","setBackCircleTop","backCircleRadius","setBackCircleRadius","fullCardRef","setFullCardRef","creatorName","setCreatorName","inviteeName","setInviteeName","lastRemindDay","setLastRemindDay","open","setOpen","classes","setGoalUserNames","snap","val","split","dbUsers","on","error","alert","off","users","Object","keys","j","getDayOn","undefined","child","set","getProgress","startdate","Date","currentdate","deltatime","getTime","deltadays","Math","floor","onDayNum","uid","saveProgress","event","value","target","updateProgress","parseInt","handleSliderChange","e","newValue","setReminder","groupMembers","creator","getReminder","deleteGoal","key","invitee","archiveGoal","vertical","horizontal","confirmed","display","getMonth","getDate","getFullYear","float","color","marginLeft","marginRight"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Slider from \"@material-ui/core/Slider\";\nimport { TextField } from \"@material-ui/core\";\nimport Container from \"@material-ui/core/Container\";\nimport clsx from 'clsx';\nimport Badge from '@material-ui/core/Badge';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport NotificationsIcon from \"@material-ui/icons/Notifications\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport SeeMore from \"./SeeMore\"\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport firebase from \"../shared/firebase\";\n\nconst db = firebase.database().ref();\n\nconst useStyles = makeStyles({\n  root: {\n    margin: \"auto\",\n    minWidth: \"35%\",\n    boxShadow: \"3px 3px 25px 2px rgba(0,0,0,0.5)\",\n    // marginLeft: \"5%\",\n    // marginRight: \"5%\",\n    // overflow: \"auto\",\n    // marginTop: \"50px\",\n    // display: \"inline-block\",\n    // border: \"1px solid black\"\n  },\n  title: {\n    fontSize: 14,\n  },\n  table: {\n    tableLayout: \"auto\",\n    width: \"99.9%\",\n    marginTop: \"0px\",\n    marginBottom: \"10px\",\n  },\n  marginless: {\n    margin: 0,\n  },\n  tableCont: {\n    width: \"300\",\n  },\n  progressFilled1: {\n    size: \"small\",\n    backgroundColor: \"#14ECF5\", //our own special blue\n    border: \"1px solid black\",\n  },\n  progressFilled2: {\n    size: \"small\",\n    backgroundColor: \"#14F58E\", //our own special green\n    border: \"1px solid black\",\n  },\n  progressUnfilled: {\n    size: \"small\",\n    border: \"1px solid black\",\n  },\n  pos: {\n    marginBottom: 12,\n  },\n  ourSpecialBlue: {\n    backgroundColor: \"#14ECF5\", //our own special blue\n    padding: \"5px\",\n  },\n  ourSpecialGreen: {\n    backgroundColor: \"#14F58E\", //our own special green\n    padding: \"5px\",\n  },\n  weekDays: {\n    size: \"small\",\n    borderBottom: \"1px solid black\",\n    paddingBottom: \"0px\",\n    paddingTop: \"10px\",\n    textAlign: \"center\",\n    width: \"50px\",\n  },\n  onDays: {\n    size: \"small\",\n    borderBottom: \"1px solid black\",\n    paddingBottom: \"0px\",\n    paddingTop: \"10px\",\n    textAlign: \"center\",\n    width: \"50px\",\n    backgroundColor: \"#14ECF5\",\n  },\n  shape1: {\n    backgroundColor: \"#14ECF5\",\n    opacity: 0.5,\n  },\n  shape2: {\n    backgroundColor: \"#14F58E\",\n    opacity: 0.5,\n  },\n  shapeCircle: {\n    borderRadius: \"50%\",\n  },\n  goalCircle: {\n    backgroundColor: \"white\",\n  },\n  backCircle: {\n    backgroundColor: \"black\",\n  },\n});\n\nconst ArchiveCard = ({ goal, user }) => {\n  const [progress, setProgress] = useState(0);\n  const [checkedIn, setCheckedIn] = useState(false);\n  \n  const [circle1Ref, setCircle1Ref] = useState(React.createRef());\n  const [circle2Ref, setCircle2Ref] = useState(React.createRef());\n  const [circle1Left, setCircle1Left] = useState(0);\n  const [circle1Top, setCircle1Top] = useState(0);\n  const [circle1Radius, setCircle1Radius] = useState(0);\n\n  const [circle2Left, setCircle2Left] = useState(0);\n  const [circle2Top, setCircle2Top] = useState(0);\n  const [circle2Radius, setCircle2Radius] = useState(0);\n\n  const [goalCircleRef, setGoalCircleRef] = useState(React.createRef());\n  const [goalCircleLeft, setGoalCircleLeft] = useState(0);\n  const [goalCircleTop, setGoalCircleTop] = useState(0);\n  const [goalCircleRadius, setGoalCircleRadius] = useState(0);\n\n  const [backCircleRef, setBackCircleRef] = useState(React.createRef());\n  const [backCircleLeft, setBackCircleLeft] = useState(0);\n  const [backCircleTop, setBackCircleTop] = useState(0);\n  const [backCircleRadius, setBackCircleRadius] = useState(0);\n\n  const [fullCardRef, setFullCardRef] = useState(React.createRef());\n\n  const [creatorName, setCreatorName] = useState(\"\");\n  const [inviteeName, setInviteeName] = useState(\"\");\n\n  const [lastRemindDay, setLastRemindDay] = useState(-1);\n  const [open, setOpen] = useState(false);\n\n  const classes = useStyles();\n\n  useEffect(() => {\n    const setGoalUserNames = (snap) => {\n      if (snap.val()) {\n        setCreatorName(\n          snap.val()[goal[\"groupMembers\"][\"creator\"]][\"name\"].split(\" \")[0]\n        );\n        setInviteeName(\n          snap.val()[goal[\"groupMembers\"][\"invitee\"]][\"name\"].split(\" \")[0]\n        );\n      }\n    };\n\n    const dbUsers = firebase.database().ref(\"users\");\n    dbUsers.on(\"value\", setGoalUserNames, (error) => alert(error));\n    return () => {\n      dbUsers.off(\"value\", setGoalUserNames);\n    };\n\n    let users = Object.keys(goal[\"progress\"]);\n    for (let j = 0; j <= getDayOn(); j++) {\n      if (goal[\"progress\"][users[0]][j] == undefined) {\n        db.child(\"goals\")\n          .child(goal[\"key\"])\n          .child(\"progress\")\n          .child(users[0])\n          .child(j)\n          .set(0);\n        //console.log(\"updating db for goal \" + goal.key + \" for user \" + users[0]);\n      }\n      if (goal[\"progress\"][users[1]][j] == undefined) {\n        db.child(\"goals\")\n          .child(goal[\"key\"])\n          .child(\"progress\")\n          .child(users[1])\n          .child(j)\n          .set(0);\n        //console.log(\"updating db for goal \" + goal.key + \" for user \" + users[1]);\n      }\n    }\n  }, []);\n\n  useEffect(() => {\n    setProgress(getProgress);\n  }, [goal]);\n\n  const getDayOn = () => {\n    var startdate = new Date(goal[\"startDate\"]);\n    var currentdate = new Date();\n    let deltatime = currentdate.getTime() - startdate.getTime();\n    let deltadays = Math.floor(deltatime / (1000 * 3600 * 24));\n    return deltadays;\n  };\n\n  const getProgress = () => {\n    const onDayNum = getDayOn();\n    const checkedIn = goal[\"progress\"][user.uid][onDayNum];\n    return checkedIn;\n  };\n\n  const saveProgress = (event, value) => {\n    setProgress(event.target.value);\n  };\n\n  const updateProgress = (event, value) => {\n    const onDayNum = getDayOn();\n    if (progress === \"\") {\n      alert(\"Not a number\");\n    } else {\n      db.child(\"goals\")\n        .child(goal[\"key\"])\n        .child(\"progress\")\n        .child(user.uid)\n        .child(onDayNum)\n        .set(parseInt(progress));\n      setCheckedIn(true);\n    }\n  };\n\n  const handleSliderChange = (e, newValue) => {\n    const onDayNum = getDayOn();\n    db.child(\"goals\")\n      .child(goal[\"key\"])\n      .child(\"progress\")\n      .child(user.uid)\n      .child(onDayNum)\n      .set(newValue);\n  };\n\n  const setReminder = () => {\n    alert(\"You have reminded your friend!\");\n    const onDayNum = getDayOn();\n    if (user.uid === goal.groupMembers.creator) {\n      db.child(\"goals\")\n        .child(goal[\"key\"])\n        .child(\"lastRemindInvitee\")\n        .set(onDayNum);\n    } else {\n      db.child(\"goals\")\n        .child(goal[\"key\"])\n        .child(\"lastRemindCreator\")\n        .set(onDayNum);\n    }\n  };\n\n  const getReminder = () => {\n    const onDayNum = getDayOn();\n    if (user.uid === goal.groupMembers.creator) {\n      return goal[\"lastRemindCreator\"];\n    } else {\n      return goal[\"lastRemindInvitee\"];\n    }\n  };\n\n  const deleteGoal = () => {\n    if(user.uid===goal.groupMembers.creator) {\n      db.child('users').child(goal.groupMembers.creator).child('goals').child(goal.key).set(null);\n      db.child('goals').child(goal.key).child('deleted').set(true);\n    }\n    else {\n      db.child('users').child(goal.groupMembers.invitee).child('invites').child(goal.key).set(null);\n      db.child('goals').child(goal.key).child('deleted').set(true);\n    }\n    // db.child('goals').child(goal.key).set(null);\n  }\n\n  const archiveGoal = () => {\n    if(user.uid===goal.groupMembers.creator) {\n      db.child('goals').child(goal.key).child('archivedCreator').set(true);\n    }\n    else {\n      db.child('goals').child(goal.key).child('archivedInvitee').set(true);\n    }\n    setOpen(false);\n    // db.child('goals').child(goal.key).set(null);\n  }\n\n  return (\n    <Badge\n      anchorOrigin={{ vertical: \"top\", horizontal: \"left\" }}\n      color=\"secondary\"\n      badgeContent={<NotificationsIcon fontSize=\"small\" />}\n      invisible={\n        !(\n          getDayOn() === lastRemindDay &&\n          goal[\"progress\"][user.uid][getDayOn()] < goal[\"minimum\"]\n        )\n      }\n    >\n      <Badge \n      badgeContent={<ClearIcon onClick={()=>setOpen(true)}/>} \n      color=\"primary\"\n      anchorOrigin={{\n        vertical: 'top',\n        horizontal: 'right',\n      }}\n      >\n        <Dialog open={open} onClose={()=>setOpen(false)}>\n          <DialogContent>\n            Are you sure you want to delete this goal?\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={()=>setOpen(false)}>Cancel</Button>\n            {goal.confirmed? <Button onClick={archiveGoal}>Archive</Button> : null}\n            <Button onClick={deleteGoal}>Delete</Button>\n          </DialogActions>\n        </Dialog>\n        <Card className={classes.root}>\n          <CardContent>\n            <div style={{ width: \"80%\", display: \"inline-block\" }}>\n              <Typography variant=\"h5\" component=\"h2\">\n                {goal[\"title\"]}\n              </Typography>\n              <Typography className={classes.pos} color=\"textSecondary\">\n                <br></br>\n                <br></br>\n                Started: {goal[\"startDate\"]}\n                <br></br>\n                Duration: {goal[\"duration\"] + ' Weeks'}  \n                <br></br>\n                Ended: {new Date(new Date(goal[\"startDate\"]).getTime() + goal[\"duration\"] * 7 * 24 * 60 * 60 * 1000).getMonth() + 1 + \"/\" + new Date(new Date(goal[\"startDate\"]).getTime() + goal[\"duration\"] * 7 * 24 * 60 * 60 * 1000).getDate() + \"/\" + new Date(new Date(goal[\"startDate\"]).getTime() + goal[\"duration\"] * 7 * 24 * 60 * 60 * 1000).getFullYear()}\n                \n              </Typography>\n            </div>\n            <div\n              style={{ width: \"20%\", display: \"inline-block\", float: \"right\" }}\n            >\n              <Table>\n                <TableBody>\n                  <TableRow>\n                    <TableCell className={classes.ourSpecialBlue}>\n                      {\" \"}\n                      {creatorName}\n                    </TableCell>\n                  </TableRow>\n                  <TableRow>\n                    <TableCell className={classes.ourSpecialGreen}>\n                      {\" \"}\n                      {inviteeName}\n                    </TableCell>\n                  </TableRow>\n                </TableBody>\n              </Table>\n            </div>\n            <div style={{textAlign:'center', display:'inline-block', width:'100%'}}><div style={{textAlign:'center'}}>\n            <CheckCircleIcon style={{fontSize:100, color: '#14F58E', marginLeft:'auto', marginRight:'auto'}}/>\n            </div></div>\n            <br></br>\n            \n\n            {/* <Slider\n            style={{ width: \"95%\", marginLeft: \"2%\", float: \"center\" }}\n            defaultValue={5}\n            getAriaValueText={(value) => value}\n            aria-labelledby=\"discrete-slider\"\n            valueLabelDisplay=\"auto\"\n            step={1}\n            onChange={handleSliderChange}\n            marks\n            min={0}\n            max={15}\n            /> */}\n\n            <div style={{textAlign:'center', display:'inline-block', width:'100%'}}><div style={{textAlign:'center'}}>            \n                <SeeMore buttonText={'Review Goal'} goal={goal} />\n              </div>\n              </div>\n          </CardContent>\n        </Card>\n      </Badge>\n    </Badge>\n  );\n};\n\nexport default ArchiveCard;\n"]},"metadata":{},"sourceType":"module"}