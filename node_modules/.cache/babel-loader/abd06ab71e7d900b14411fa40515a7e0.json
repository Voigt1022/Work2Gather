{"ast":null,"code":"import _slicedToArray from\"/Users/eddie/Documents/GitHub/quick-travis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import StyledFirebaseAuth from'react-firebaseui/StyledFirebaseAuth';import{makeStyles}from'@material-ui/core/styles';import Button from'@material-ui/core/Button';import AppBar from'@material-ui/core/AppBar';import Toolbar from'@material-ui/core/Toolbar';import Typography from'@material-ui/core/Typography';import Container from'@material-ui/core/Container';import Goal from'./Card/Goal';import AddGoal from'./AddGoal';import GoalGrid from'./GoalGrid';import firebase from'./shared/firebase';import ToggleButtons from'./Toggle';import Badge from'@material-ui/core/Badge';import MailIcon from'@material-ui/icons/Mail';import HomeIcon from'@material-ui/icons/Home';import ArchiveIcon from'@material-ui/icons/Archive';import IconButton from'@material-ui/core/IconButton';import Tooltip from'@material-ui/core/Tooltip';var db=firebase.database().ref();var uiConfig={signInFlow:'popup',signInOptions:[firebase.auth.GoogleAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function signInSuccessWithAuthResult(){return false;}}};var useStyles=makeStyles(function(theme){return{title:{flexGrow:1},icons:{margin:\"5px\",color:\"white\"}};});var Welcome=function Welcome(_ref){var user=_ref.user,invites=_ref.invites,setGridView=_ref.setGridView;var classes=useStyles();var count=0;Object.values(invites).map(function(goal){return goal.confirmed?null:count++;});return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(AppBar,{position:\"static\"},/*#__PURE__*/React.createElement(Toolbar,null,/*#__PURE__*/React.createElement(Typography,{variant:\"h5\",className:classes.title,onClick:function onClick(){window.location.reload(false);}},\"Work2Gather\"),/*#__PURE__*/React.createElement(Tooltip,{title:\"Home\"},/*#__PURE__*/React.createElement(IconButton,{onClick:function onClick(){return setGridView(\"ACTIVE\");}},/*#__PURE__*/React.createElement(HomeIcon,{className:classes.icons}))),/*#__PURE__*/React.createElement(Tooltip,{title:\"Invites\"},/*#__PURE__*/React.createElement(IconButton,{onClick:function onClick(){return setGridView(\"INVITES\");}},/*#__PURE__*/React.createElement(Badge,{anchorOrigin:{vertical:'top',horizontal:'left'},badgeContent:count,color:\"secondary\",className:classes.icons},/*#__PURE__*/React.createElement(MailIcon,null)))),/*#__PURE__*/React.createElement(Tooltip,{title:\"Archive\"},/*#__PURE__*/React.createElement(IconButton,{onClick:function onClick(){return setGridView(\"ARCHIVE\");}},/*#__PURE__*/React.createElement(ArchiveIcon,{className:classes.icons}))),/*#__PURE__*/React.createElement(Typography,{variant:\"h6\",style:{marginLeft:\"10px\",float:\"center\",marginRight:30}},\"Welcome, \",user.displayName?user.displayName.split(' ')[0]:\"\"),/*#__PURE__*/React.createElement(Button,{style:{fontSize:21},color:\"inherit\",onClick:function onClick(){setGridView(\"ACTIVE\");firebase.auth().signOut();}},\"Log out\"))));};var SignIn=function SignIn(){return/*#__PURE__*/React.createElement(StyledFirebaseAuth,{uiConfig:uiConfig,firebaseAuth:firebase.auth()});};var Banner=function Banner(_ref2){var user=_ref2.user,invites=_ref2.invites,title=_ref2.title,setGridView=_ref2.setGridView;return/*#__PURE__*/React.createElement(React.Fragment,null,user?/*#__PURE__*/React.createElement(Welcome,{user:user,invites:invites,setGridView:setGridView}):/*#__PURE__*/React.createElement(SignIn,null));};var App=function App(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),goalsJSON=_useState2[0],setGoals=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),invites=_useState4[0],setInvite=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),user=_useState6[0],setUser=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),emailTouid=_useState8[0],setEmailTouid=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),open=_useState10[0],setOpen=_useState10[1];var _useState11=useState(\"ACTIVE\"),_useState12=_slicedToArray(_useState11,2),gridView=_useState12[0],setGridView=_useState12[1];var goals=Object.values(goalsJSON);useEffect(function(){firebase.auth().onAuthStateChanged(setUser);},[]);useEffect(function(){var handleData=function handleData(snap){if(user){if(snap.val()){var re=/\\./gi;var email=user.email.replace(re,',');db.child('emailTouid/'+email).set(user.uid);setEmailTouid(snap.val().emailTouid);if(!snap.val().users[user.uid]){db.child(\"users\").child(user.uid).child(\"name\").set(user.displayName);}if(snap.val().users[user.uid]&&snap.val().users[user.uid].goals){var goals_arr=snap.val().users[user.uid].goals;setGoals(Object.values(goals_arr).map(function(goal){return snap.val().goals[goal];}));}else{setGoals({});}if(snap.val().users[user.uid]&&snap.val().users[user.uid].invites){var invites_arr=snap.val().users[user.uid].invites;setInvite(Object.values(invites_arr).map(function(goal){return snap.val().goals[goal];}));}else{setInvite({});}}}else{setGoals({});setEmailTouid({});}};db.on('value',handleData,function(error){return alert(error);});return function(){db.off('value',handleData);};},[user]);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Banner,{user:user,invites:invites,title:\"Work2Gather\",setGridView:setGridView}),/*#__PURE__*/React.createElement(\"br\",null),user?/*#__PURE__*/React.createElement(AddGoal,{open:open,user:user,setOpen:setOpen,emailTouid:emailTouid}):null,user?/*#__PURE__*/React.createElement(Container,{maxWidth:\"xl\"},/*#__PURE__*/React.createElement(GoalGrid,{goals:goals,invites:invites,user:user,gridView:gridView})):null);};export default App;","map":{"version":3,"sources":["/Users/eddie/Documents/GitHub/quick-travis/src/App.js"],"names":["React","useEffect","useState","StyledFirebaseAuth","makeStyles","Button","AppBar","Toolbar","Typography","Container","Goal","AddGoal","GoalGrid","firebase","ToggleButtons","Badge","MailIcon","HomeIcon","ArchiveIcon","IconButton","Tooltip","db","database","ref","uiConfig","signInFlow","signInOptions","auth","GoogleAuthProvider","PROVIDER_ID","callbacks","signInSuccessWithAuthResult","useStyles","theme","title","flexGrow","icons","margin","color","Welcome","user","invites","setGridView","classes","count","Object","values","map","goal","confirmed","window","location","reload","vertical","horizontal","marginLeft","float","marginRight","displayName","split","fontSize","signOut","SignIn","Banner","App","goalsJSON","setGoals","setInvite","setUser","emailTouid","setEmailTouid","open","setOpen","gridView","goals","onAuthStateChanged","handleData","snap","val","re","email","replace","child","set","uid","users","goals_arr","invites_arr","on","error","alert","off"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport Goal from './Card/Goal'\nimport AddGoal from './AddGoal';\nimport GoalGrid from './GoalGrid';\nimport firebase from './shared/firebase'\nimport ToggleButtons from './Toggle'\nimport Badge from '@material-ui/core/Badge'; \nimport MailIcon from '@material-ui/icons/Mail'; \nimport HomeIcon from '@material-ui/icons/Home'; \nimport ArchiveIcon from '@material-ui/icons/Archive'; \nimport IconButton from '@material-ui/core/IconButton'; \nimport Tooltip from '@material-ui/core/Tooltip';\n\n\nconst db = firebase.database().ref();\n\nconst uiConfig = {\n  signInFlow: 'popup',\n  signInOptions: [\n    firebase.auth.GoogleAuthProvider.PROVIDER_ID\n  ],\n  callbacks: {\n    signInSuccessWithAuthResult: () => false\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  title: {\n    flexGrow: 1,\n  },\n  icons:{\n    margin:\"5px\",\n    color: \"white\"\n  }\n}));\n\nconst Welcome = ({ user, invites, setGridView}) => {\n  const classes = useStyles();\n  let count = 0;\n  Object.values(invites).map(goal=>goal.confirmed?null:count++);\n\n  return (\n    <React.Fragment>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <Typography variant=\"h5\" className={classes.title} onClick={() => {window.location.reload(false)}}>\n            Work2Gather\n          </Typography>\n          <Tooltip title=\"Home\">\n            <IconButton onClick={() => setGridView(\"ACTIVE\")}>\n              <HomeIcon className={classes.icons} />\n            </IconButton>\n          </Tooltip>\n          <Tooltip title=\"Invites\">\n            <IconButton onClick={() => setGridView(\"INVITES\")}>\n              <Badge \n                anchorOrigin={{\n                   vertical: 'top',\n                  horizontal: 'left',\n                }} \n                badgeContent={count} \n                color=\"secondary\"\n                className={classes.icons}>\n                <MailIcon />\n              </Badge>\n            </IconButton>\n          </Tooltip>\n          <Tooltip title=\"Archive\">\n            <IconButton  onClick={() => setGridView(\"ARCHIVE\")}>\n              <ArchiveIcon className={classes.icons}/>\n            </IconButton>\n          </Tooltip>\n          \n          <Typography variant=\"h6\" style={{ marginLeft:\"10px\", float: \"center\", marginRight: 30 }}>\n            Welcome, {user.displayName ? user.displayName.split(' ')[0] : \"\"}\n          </Typography>\n          <Button style={{ fontSize: 21 }} color=\"inherit\" onClick={() => { setGridView(\"ACTIVE\"); firebase.auth().signOut() }}>\n            Log out\n          </Button>\n        </Toolbar>\n      </AppBar>\n    </React.Fragment>\n  );\n};\n\nconst SignIn = () => (\n  <StyledFirebaseAuth\n    uiConfig={uiConfig}\n    firebaseAuth={firebase.auth()}\n  />\n);\n\nconst Banner = ({ user, invites, title, setGridView }) => (\n  <React.Fragment>\n    {user ? <Welcome user={user} invites={invites} setGridView={setGridView}/> : <SignIn />}\n  </React.Fragment>\n);\n\nconst App = () => {\n  const [goalsJSON, setGoals] = useState({});\n  const [invites, setInvite] = useState({});\n  const [user, setUser] = useState({});\n  const [emailTouid, setEmailTouid] = useState({});\n  const [open, setOpen] = useState(false);\n  const [gridView, setGridView] = useState(\"ACTIVE\");\n\n  var goals = Object.values(goalsJSON);\n\n  useEffect(() => {\n    firebase.auth().onAuthStateChanged(setUser);\n  }, []);\n\n  useEffect(() => {\n    const handleData = snap => {\n      if (user) {\n        if (snap.val()) {\n          let re = /\\./gi;\n          let email = user.email.replace(re, ',')\n          db.child('emailTouid/' + email).set(user.uid);\n          setEmailTouid(snap.val().emailTouid);\n          if (!snap.val().users[user.uid]) {\n            db.child(\"users\").child(user.uid).child(\"name\").set(user.displayName);\n          }\n          if (snap.val().users[user.uid] && snap.val().users[user.uid].goals) {\n            let goals_arr = snap.val().users[user.uid].goals;\n            setGoals(Object.values(goals_arr).map(goal => snap.val().goals[goal]));\n          }\n          else {\n            setGoals({});\n          }\n          if (snap.val().users[user.uid] && snap.val().users[user.uid].invites) {\n            let invites_arr = snap.val().users[user.uid].invites;\n            setInvite(Object.values(invites_arr).map(goal => snap.val().goals[goal]));\n          }\n          else {\n            setInvite({});\n          }\n        }\n      } else {\n        setGoals({});\n        setEmailTouid({});\n      }\n    };\n    db.on('value', handleData, error => alert(error));\n    return () => { db.off('value', handleData); };\n  }, [user]);\n\n  return (\n    <div>\n      <Banner user={user} invites={invites} title=\"Work2Gather\" setGridView={setGridView}>\n      </Banner>\n      <br></br>\n      {user ? <AddGoal open={open} user={user} setOpen={setOpen} emailTouid={emailTouid} /> : null}\n      {user ? <Container maxWidth=\"xl\">\n        <GoalGrid goals={goals} invites={invites} user={user} gridView={gridView}/>\n      </Container> : null}\n    </div>\n  );\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}